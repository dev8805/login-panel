✅ PROBLEMA RESUELTO: TECLADO QUE SE OCULTA EN MÓVIL
=====================================================

FECHA: 2024
ARCHIVO MODIFICADO: js/mesas.js

PROBLEMA IDENTIFICADO:
----------------------
Al agregar, ajustar o eliminar productos de una mesa en dispositivos móviles,
el teclado se ocultaba momentáneamente y volvía a aparecer, creando un efecto
de "parpadeo" antiestético y poco profesional.

CAUSA DEL PROBLEMA:
-------------------
Cuando se actualizaba la interfaz de la mesa (lista de productos), el input
del buscador perdía el foco, lo que provocaba que el sistema operativo móvil
ocultara el teclado automáticamente.

SOLUCIÓN IMPLEMENTADA:
----------------------
Se modificaron 3 funciones clave para PRESERVAR el foco del input del buscador
después de actualizar la interfaz:

1. ajustarCantidad() - Línea ~1062
   - Detecta si el input tenía el foco ANTES de actualizar
   - Restaura el foco DESPUÉS de actualizar (si lo tenía)

2. eliminarProductoMesa() - Línea ~1120
   - Detecta si el input tenía el foco ANTES de actualizar
   - Restaura el foco DESPUÉS de actualizar (si lo tenía)

3. seleccionarProductoMesa() - Línea ~1289
   - SIEMPRE restaura el foco después de agregar un producto
   - Esto mantiene el flujo: agregar → seguir buscando

CÓDIGO AGREGADO EN CADA FUNCIÓN:
---------------------------------

// ANTES de actualizar (solo en ajustarCantidad y eliminarProductoMesa):
const inputBuscador = document.getElementById(`buscar-${mesaId}`);
const teniaFoco = (document.activeElement === inputBuscador);

// DESPUÉS de actualizar (en las 3 funciones):
setTimeout(() => {
    const inputNuevo = document.getElementById(`buscar-${mesaId}`);
    if (inputNuevo) {
        inputNuevo.focus();
    }
}, 50);

RESULTADO FINAL:
----------------
✅ Al agregar un producto → el teclado permanece abierto
✅ Al ajustar cantidad (estando en el buscador) → el teclado permanece abierto
✅ Al eliminar un producto (estando en el buscador) → el teclado permanece abierto
✅ Experiencia fluida y profesional en dispositivos móviles

NOTA TÉCNICA:
-------------
Se usa setTimeout de 50ms para dar tiempo al DOM de actualizarse antes de
intentar enfocar el input nuevamente. Este pequeño delay es imperceptible
para el usuario pero crítico para que el focus() funcione correctamente.

REFERENCIA:
-----------
El buscador de cantidad en la mesa seleccionada ya funcionaba correctamente
porque no regeneraba elementos del DOM, solo actualizaba valores. Esta solución
aplica el mismo principio a las operaciones de productos.
